# AvailableX 技術コンテキスト

## 技術スタック（実装済み）
AvailableXは、最新のウェブ技術を活用して構築されています。主要な技術スタックは以下の通りです：

### フロントエンド
- **Next.js 15.2.4**: Reactベースのフレームワーク、ファイルベースのルーティングとSSGを活用
- **React 19.0.0**: UIコンポーネントの構築
- **TypeScript**: 型安全なコード開発
- **Tailwind CSS 4.x**: ユーティリティファーストのCSSフレームワーク
- **React Big Calendar**: カレンダーUIコンポーネント
- **date-fns**: 日付操作ライブラリ

### ビルド・開発ツール
- **Turbopack**: 高速な開発環境
- **ESLint 9.x**: コード品質の維持
- **PostCSS**: CSSの変換と最適化

## 開発環境セットアップ
```bash
# プロジェクトのクローン
git clone https://github.com/username/availablex.git
cd availablex

# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

開発サーバーは、デフォルトで http://localhost:3000 で起動します。

## 技術的制約
1. **クライアントサイドのみの処理**
   - サーバーサイドの処理は最小限に抑え、ほとんどの機能をクライアントで実行
   - データの永続化はURLパラメータを通じて実現
   - ローカルストレージは補助的に使用する可能性あり

2. **ブラウザの互換性**
   - モダンブラウザ（Chrome、Firefox、Safari、Edge最新版）をサポート
   - IE11などのレガシーブラウザはサポート対象外
   - モバイルブラウザ（iOS Safari、Android Chrome）での動作を保証

3. **パフォーマンス要件**
   - 初期読み込み時間: 2秒以内（中速回線）
   - インタラクション応答時間: 100ms以内
   - バンドルサイズ: 最適化後500KB以下を目標

4. **アクセシビリティ**
   - WCAG 2.1 AA準拠を目指す
   - キーボードナビゲーションのサポート
   - スクリーンリーダー対応

## 依存関係（実装済み）
主要な依存関係とその役割：

| パッケージ名 | バージョン | 役割 | 実装状況 |
|------------|----------|------|---------|
| next | 15.2.4 | Reactフレームワーク | ✅ 実装済み |
| react | 19.0.0 | UIライブラリ | ✅ 実装済み |
| react-dom | 19.0.0 | DOMレンダリング | ✅ 実装済み |
| typescript | 5.x | 型システム | ✅ 実装済み |
| tailwindcss | 4.x | CSSフレームワーク | ✅ 実装済み |
| react-big-calendar | 最新版 | カレンダーUI | ✅ 実装済み |
| date-fns | 最新版 | 日付操作 | ✅ 実装済み |
| eslint | 9.x | コード品質 | ✅ 実装済み |

## ブラウザサポート
```
> 0.5%
not dead
not IE 11
```

## 開発ワークフロー（実装済み）
1. **ローカル開発**
   - `npm run dev` で開発サーバーを起動
   - ホットリロードによる即時反映
   - Turbopackによる高速な開発環境

2. **コード品質管理**
   - TypeScriptによる型チェック
   - ESLintによるコード検証

3. **ビルドプロセス**
   - `npm run build` で本番用ビルドを生成
   - 静的ファイルは `out` ディレクトリに出力

4. **デプロイ**
   - 静的サイトとしてVercel、Netlify、GitHub Pagesなどにデプロイ可能
   - CI/CDパイプラインによる自動デプロイを推奨（将来実装予定）

## パフォーマンス最適化（実装済み）
1. **コード分割**
   - Next.jsのダイナミックインポートを活用
   - ルートベースの自動コード分割
   - クライアントコンポーネントの分離（'use client'ディレクティブ）

2. **レンダリング最適化**
   - React.memo、useCallbackの活用
   - 状態更新の最適化

3. **バンドル最適化**
   - 未使用コードの削除（ツリーシェイキング）
   - 依存関係の最小化
   - Tailwind CSSの最適化

## 実装済みの機能
1. **カレンダーUI**
   - React Big Calendarを使用した週表示ベースのカレンダー
   - 15分単位の時間スロット
   - ドラッグ＆ドロップによる日時範囲選択

2. **日時データ処理**
   - 選択された日時範囲の内部データ構造
   - UTCベースのデータ管理
   - date-fnsによる日時操作

3. **テキスト表示**
   - 「2025年3月26日(水) 13:00-15:00」形式での日時表示
   - 選択された日時のリスト表示
   - クリップボードへのコピー機能

4. **URL生成と共有**
   - 共有可能なPermalink生成
   - クリップボードへのコピー機能
   - URLからのデータ復元

5. **UI/UX**
   - レスポンシブデザイン
   - ライト/ダークモード切替機能
   - Tailwind CSSによるスタイリング

## 今後の技術的課題
1. **QRコード生成機能の追加**
   - QRコード生成ライブラリの選定と実装
   - 画像ダウンロード機能の実装

2. **多言語対応**
   - i18nライブラリの導入検討
   - 言語リソースの管理方法の設計

3. **テスト環境の整備**
   - Jest、React Testing Libraryの導入
   - ユニットテスト、統合テストの実装

4. **CI/CD環境の構築**
   - GitHub Actionsの設定
   - 自動デプロイパイプラインの構築

## セキュリティ考慮事項
1. **クライアントサイド処理の限界**
   - 機密データを扱わない設計
   - URLパラメータに機密情報を含めない

2. **CSP (Content Security Policy)**
   - インラインスクリプトの制限
   - 外部リソースの制限

3. **CORS設定**
   - 必要に応じてCORS設定を適切に構成
