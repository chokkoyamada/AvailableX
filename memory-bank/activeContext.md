# AvailableX アクティブコンテキスト

## 現在の作業焦点
AvailableXプロジェクトは現在、初期開発フェーズにあります。主な焦点は以下の通りです：

1. **プロジェクト構造の確立**
   - Next.jsプロジェクトの基本構造を設定（App Router使用）
   - コンポーネント、ライブラリ、ユーティリティの適切な配置
   - TypeScriptの型定義の整備

2. **コアコンポーネントの実装**
   - React Big Calendarを使用した週表示ベースのカレンダーUIの構築
   - 15分単位の日時選択機能の実装（ドラッグ＆ドロップ）
   - 日時データのエンコード/デコードロジックの開発
   - テキスト表示と共有機能の実装

3. **UI/UXデザインの洗練**
   - Tailwind CSSを使用したレスポンシブデザインの実装
   - ライト/ダークモード切替機能の実装
   - モバイル対応（特にiPhoneでの操作性を考慮）

## 最近の変更
1. **プロジェクト初期化**
   - Next.jsプロジェクトの作成
   - 基本的な依存関係の追加
   - GitHubリポジトリの設定

2. **技術スタックの決定**
   - React 19.0.0とNext.js 15.2.4の採用
   - Tailwind CSS 4.xの導入
   - TypeScriptによる型安全な開発の決定
   - React Big Calendarとdate-fnsの採用決定

3. **要件定義の詳細化**
   - 主要機能の明確化
   - データ形式の設計
   - ユーザーフローの定義
   - UI/UX要件の詳細化（週表示、15分単位、ライト/ダークモード）

## 次のステップ
1. **必要なライブラリのインストール**
   - React Big Calendar
   - date-fns
   - その他必要なライブラリ

2. **コアコンポーネントの開発**
   - 週表示ベースのカレンダーコンポーネントの実装
   - 15分単位の日時選択ロジックの開発
   - React Contextを使用したデータストアの構築

3. **エンコード/デコードロジックの実装**
   - URL用の効率的なエンコーディング方式の開発
   - デコードロジックとエラー処理の実装
   - エッジケースのテスト（タイムゾーン、日付の境界など）

4. **UI/UXの実装**
   - レスポンシブデザインの適用（モバイル対応）
   - ライト/ダークモード切替機能の実装
   - ユーザーフレンドリーなインターフェースの構築

5. **テストとデバッグ**
   - ユニットテストの作成
   - ブラウザ互換性のテスト
   - パフォーマンス最適化

## アクティブな決定事項
1. **クライアントサイドのみの処理**
   - サーバーサイドの処理は最小限に抑え、ほとんどの機能をクライアントで実行
   - データの永続化はURLパラメータを通じて実現
   - 理由：プライバシー重視、サーバーコスト削減、シンプルな共有機能

2. **React Big Calendarの採用**
   - カレンダーUIの実装にReact Big Calendarを使用
   - 週表示をデフォルトとし、15分単位のスロット表示
   - カスタマイズして日時範囲の選択機能を強化
   - 理由：成熟したライブラリ、柔軟なカスタマイズ性、アクティブなコミュニティ

3. **URLエンコーディング形式**
   - 効率的なデータ圧縮のためのカスタムエンコーディング形式を採用
   - 基準日と相対日数を使用して日付を表現
   - クエリパラメータとして実装
   - 理由：URLの長さ制限、可読性とデコードの容易さのバランス

4. **テーマ切替機能**
   - ライトモードとダークモードの両方をサポート
   - デフォルトはライトモード、UIボタンで切り替え
   - システム設定には自動追従しない
   - 理由：ユーザー体験の向上、視認性の確保

5. **日時表示形式**
   - デフォルトは「2025年3月26日(水) 13:00-15:00」形式
   - 将来的に複数の出力形式に対応予定
   - 理由：読みやすさと国際化対応の両立

## 現在の課題と考慮事項
1. **カレンダーUIのカスタマイズ**
   - React Big Calendarを週表示ベースにカスタマイズする方法
   - 15分単位のスロット表示の実装
   - ドラッグ＆ドロップによる範囲選択の実装
   - 解決策：コンポーネントの拡張とカスタムフックの開発

2. **URLの長さ制限**
   - 多数の日時範囲を選択した場合のURLの長さ制限への対応
   - 解決策：効率的なエンコーディング方式の開発

3. **ブラウザ互換性**
   - 異なるブラウザでの一貫した動作の確保
   - モバイルデバイスでのタッチインタラクションの最適化
   - 解決策：クロスブラウザテスト、ポリフィルの使用、レスポンシブデザインの徹底

4. **タイムゾーン対応**
   - UTCベースのデータとローカルタイムゾーンの表示の整合性確保
   - 解決策：date-fnsを使用したタイムゾーン変換の実装

## 開発環境
- **ローカル開発環境**: Next.js開発サーバー（Turbopack使用）
- **コード管理**: GitHub
- **デプロイ予定**: Vercel（予定）
- **CI/CD**: GitHub Actions（予定）
